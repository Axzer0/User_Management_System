<section class="pt-4">
  <mat-card class="p-4">
    <mat-card-header class="mb-3">
      <mat-card-title>Sign up</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" autocomplete="off" id="login-form">
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input formControlName="email" matInput placeholder="Email" type="email" id="email">
            <mat-error *ngIf="email?.invalid && (email?.dirty || email?.touched)">
              <ng-container *ngIf="email?.errors?.['required']">
                Email is required
              </ng-container>
              <ng-container *ngIf="email?.errors?.['email']">
                Invalid email syntax
              </ng-container>
            </mat-error>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input formControlName="password" matInput placeholder="password" [type]="showPassword ? 'text':'password'" autocomplete="new-password">
            <button type="button" matSuffix mat-icon-button aria-label="Clear" (click)="toggle('p')">
              <mat-icon>{{showPassword  ? 'visibility_off':'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">
              <ng-container *ngIf="password?.errors?.['required']">
                Password is required
              </ng-container>
            </mat-error>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Confirm Password</mat-label>
            <input formControlName="confirmPassword" matInput placeholder="Confirm password" [type]="showCPassword ? 'text':'password'" autocomplete="new-password">
            <button type="button" matSuffix mat-icon-button aria-label="Clear" (click)="toggle('cp')">
              <mat-icon>{{showCPassword  ? 'visibility_off':'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="cPassword?.invalid && (cPassword?.dirty || cPassword?.touched)">
              <ng-container *ngIf="cPassword?.errors?.['required']">
                Confirmation password is required
              </ng-container>
            </mat-error>
          </mat-form-field>
        </p>

        <div class="rule-set">
          Password requirements
          <p [style.color]="hasCapitalError() ? 'red':'black'">Password must have a capital letter
            <mat-icon [style.color]="hasCapitalError() ? 'red':'green'">
              {{hasCapitalError() ? 'report_problem' : 'done_all'}}
            </mat-icon>
          </p>
          <p [style.color]="hasSpecialCharError() ? 'red':'black'">Password must have a special character
            <mat-icon [style.color]="hasSpecialCharError() ? 'red':'green'">
              {{hasSpecialCharError() ? 'report_problem' : 'done_all'}}
            </mat-icon>
          </p>
          <p [style.color]="hasNumberError() ? 'red':'black'">Password must have a number
            <mat-icon [style.color]="hasNumberError() ? 'red':'green'">
              {{hasNumberError() ? 'report_problem' : 'done_all'}}
            </mat-icon>
          </p>
          <p [style.color]="hasMatchError() ? 'red':'black'">Password's must match
            <mat-icon [style.color]="hasMatchError() ? 'red':'green'">
              {{hasMatchError() ? 'report_problem' : 'done_all'}}
            </mat-icon>
          </p>
        </div>
        <mat-divider></mat-divider>
        <button [disabled]="registerStatus" mat-flat-button class="login-btn" color="primary">Register</button>
      </form>
    </mat-card-content>
    <mat-card-footer>
      <mat-progress-bar *ngIf="registerStatus" class="mt-2" mode="indeterminate"></mat-progress-bar>
    </mat-card-footer>
  </mat-card>
  <p class="register">Already have an account ? <span routerLink="/login"> Login now</span></p>
</section>

